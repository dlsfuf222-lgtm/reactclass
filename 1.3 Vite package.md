# ğŸ“¦ Viteì— ì˜í•´ ìƒì„±ë˜ëŠ” `package.json` êµ¬ì„± ìš”ì†Œ ìƒì„¸ ì„¤ëª…

```json
{
  "name": "vite-react-js",
  "version": "0.0.0",
  "private": true,
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  },
  "dependencies": {
    "react": "^18.3.0",
    "react-dom": "^18.3.0"
  },
  "devDependencies": {
    "@vitejs/plugin-react": "^4.0.3",
    "vite": "^7.0.5"
  }
}
```

---

## ğŸ”¹ 1. `scripts` ì„¹ì…˜

| ìŠ¤í¬ë¦½íŠ¸      | ì„¤ëª…                                        |
| --------- | ----------------------------------------- |
| `dev`     | ê°œë°œ ì„œë²„ ì‹¤í–‰ (`vite` ëª…ë ¹)                      |
| `build`   | í”„ë¡œë•ì…˜ìš© ì •ì  íŒŒì¼ ë²ˆë“¤ ìƒì„± (`vite build`)          |
| `preview` | `build` ê²°ê³¼ë¬¼ì„ ë¡œì»¬ ì„œë²„ë¡œ ë¯¸ë¦¬ë³´ê¸° (`vite preview`) |

---

## ğŸ”¹ 2. `dependencies`

### âœ… `react`

* React í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬
* ì»´í¬ë„ŒíŠ¸, Hooks, ìƒíƒœ ê´€ë¦¬ ë“±ì„ ì œê³µ

### âœ… `react-dom`

* React ì»´í¬ë„ŒíŠ¸ë¥¼ ì‹¤ì œ DOMì— ë Œë”ë§í•˜ëŠ” ë¸Œë¦¿ì§€ ì—­í• 
* `ReactDOM.createRoot(...)` ë“± ì œê³µ

---

## ğŸ”¹ 3. `devDependencies`

### âœ… `vite`

* Vite ë³¸ì²´
* ê°œë°œ ì„œë²„, HMR, ë¹Œë“œ ë“± ëª¨ë“  CLI ê¸°ëŠ¥ì˜ í•µì‹¬
* ë‚´ë¶€ì ìœ¼ë¡œ Rollupì„ ì‚¬ìš©í•´ `vite build` ì‹œ í”„ë¡œë•ì…˜ ë²ˆë“¤ ìƒì„±

### âœ… `@vitejs/plugin-react`

* Reactë¥¼ Viteì™€ í†µí•©í•˜ê¸° ìœ„í•œ í”ŒëŸ¬ê·¸ì¸
* ë‹¤ìŒì„ ì²˜ë¦¬:

  * JSX â†’ JavaScript ë³€í™˜ (babel ì‚¬ìš©)
  * Fast Refresh(HMR) ì§€ì›
  * React-specific syntax ìµœì í™”

ğŸ“Œ ì´ í”ŒëŸ¬ê·¸ì¸ì´ ì—†ìœ¼ë©´ JSXë¥¼ ë¸Œë¼ìš°ì €ê°€ ì´í•´í•˜ì§€ ëª»í•¨

---

# ğŸ“‚ ìƒì„±ëœ ë””ë ‰í„°ë¦¬ êµ¬ì¡°ì™€ ì—­í• 

```bash
vite-react-js/
â”œâ”€â”€ node_modules/        # ì„¤ì¹˜ëœ ëª¨ë“  íŒ¨í‚¤ì§€ë“¤
â”œâ”€â”€ public/              # ì •ì  ìì‚° ìœ„ì¹˜ (favicon, ì´ë¯¸ì§€ ë“±)
â”œâ”€â”€ src/                 # ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”œâ”€â”€ main.jsx         # ì§„ì…ì 
â”‚   â””â”€â”€ App.jsx          # ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ index.html           # ì•±ì˜ HTML ì§„ì…ì  (ë¸Œë¼ìš°ì € ë¡œë“œìš©)
â”œâ”€â”€ package.json         # í”„ë¡œì íŠ¸ ì˜ì¡´ì„± ë° ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ vite.config.js       # Vite ì„¤ì • íŒŒì¼ (í•„ìš” ì‹œ)
â””â”€â”€ .gitignore           # Git ì œì™¸ íŒŒì¼ ëª©ë¡
```

---

# ğŸ§© Viteê°€ ì„¤ì¹˜í•œ í•µì‹¬ ëª¨ë“ˆ ì„¤ëª… (node\_modules ë‚´ë¶€)

| íŒ¨í‚¤ì§€ëª…                                    | ì„¤ëª…                                                  |
| --------------------------------------- | --------------------------------------------------- |
| `vite`                                  | Viteì˜ CLI, ì„œë²„, ë²ˆë“¤ëŸ¬ ê¸°ëŠ¥ í¬í•¨                            |
| `@vitejs/plugin-react`                  | React JSX íŠ¸ëœìŠ¤íŒŒì¼ + HMR í”ŒëŸ¬ê·¸ì¸                          |
| `esbuild`                               | Vite ê°œë°œ ì„œë²„ì˜ ê³ ì† íŠ¸ëœìŠ¤íŒŒì¼ëŸ¬ (Goë¡œ ì‘ì„±ëœ ë¹Œë“œ ë„êµ¬)               |
| `rollup`                                | Viteì˜ í”„ë¡œë•ì…˜ ë²ˆë“¤ëŸ¬ (vite build ì‹œ ì‚¬ìš©)                    |
| `react` / `react-dom`                   | React ì•±ì˜ í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬                                   |
| `@babel/*`                              | JSX â†’ JS ë³€í™˜ ë“± Babel ê´€ë ¨ íŠ¸ëœìŠ¤íŒŒì¼ ëª¨ë“ˆ (React í”ŒëŸ¬ê·¸ì¸ ë‚´ë¶€ ì˜ì¡´ì„±) |
| `ansi-colors`, `debug`, `picocolors`    | CLI ì¶œë ¥ìš© ìœ í‹¸ (vite, rollup ë‚´ë¶€ ì˜ì¡´ì„±)                    |
| `fsevents`                              | íŒŒì¼ ë³€ê²½ ê°ì§€ìš© (macOS ì „ìš©)                                |
| `postcss`, `css-loader`, `style-loader` | CSS ì²˜ë¦¬ìš© (ìë™ í¬í•¨ë  ìˆ˜ ìˆìŒ)                               |

---

## âš ï¸ ì°¸ê³ : ViteëŠ” Webpackê³¼ ë‹¬ë¦¬â€¦

* ê¸°ë³¸ì ìœ¼ë¡œ **zero-config (ì„¤ì • ê±°ì˜ ì—†ìŒ)** êµ¬ì¡°ë¥¼ ê°€ì§
* ì„¤ì •ì´ í•„ìš”í•˜ë©´ `vite.config.js`ì— Rollup-styleë¡œ ì„¤ì •
* `webpack.config.js`, `babel.config.js`, `tsconfig.json` ì—†ì´ë„ ì‘ë™í•¨

---

## ğŸ§ª ê°œë°œìê°€ ì•Œì•„ì•¼ í•  í•„ìˆ˜ Vite ë‚´ë¶€ ì˜ì¡´ì„± êµ¬ì¡°

```plaintext
Vite
 â”œâ”€ esbuild (ê°œë°œìš© ë³€í™˜ê¸°, JSX + TS íŠ¸ëœìŠ¤íŒŒì¼)
 â”œâ”€ Rollup (build ì‹œ í”„ë¡œë•ì…˜ ë²ˆë“¤ ìƒì„±ê¸°)
 â””â”€ Plugin System
     â”œâ”€ @vitejs/plugin-react
     â””â”€ Babel (JSX ë³€í™˜ + Fast Refresh)
```

---

## ğŸ“Œ ë§ˆë¬´ë¦¬ ì •ë¦¬

| í•­ëª©                     | ì„¤ëª…                                   |
| ---------------------- | ------------------------------------ |
| `vite`                 | ê°œë°œ ì„œë²„ + í”„ë¡œë•ì…˜ ë²ˆë“¤ë§ í•µì‹¬                  |
| `@vitejs/plugin-react` | JSX ë³€í™˜ + HMR ì§€ì›                      |
| `react`, `react-dom`   | í•„ìˆ˜ UI ë¼ì´ë¸ŒëŸ¬ë¦¬                          |
| `scripts`              | `vite`, `vite build`, `vite preview` |
| `node_modules`         | ìœ„ ëª¨ë“  íŒ¨í‚¤ì§€ì™€ í”ŒëŸ¬ê·¸ì¸ì˜ ì‹¤ì œ ì½”ë“œ ì €ì¥ì†Œ            |

---



# ğŸ§© 1. `vite.config.js` ì»¤ìŠ¤í„°ë§ˆì´ì§• ì˜ˆì œ

```js
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import path from 'path';

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
      '@components': path.resolve(__dirname, './src/components'),
    }
  },
  server: {
    port: 5173,
    open: true,
    proxy: {
      '/api': {
        target: 'http://localhost:8080',
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, '')
      }
    }
  },
  build: {
    outDir: 'dist',
    sourcemap: true,
    rollupOptions: {
      output: {
        manualChunks: {
          react: ['react', 'react-dom'],
          vendor: ['axios', 'lodash']
        }
      }
    }
  }
});
```

### ğŸ” ì£¼ìš” ì„¤ì • ì„¤ëª…

| í•­ëª©                                  | ì„¤ëª…                                  |
| ----------------------------------- | ----------------------------------- |
| `plugins`                           | Vite í”ŒëŸ¬ê·¸ì¸ ë°°ì—´ (ì—¬ê¸°ì„  React ì§€ì› í”ŒëŸ¬ê·¸ì¸ ì‚¬ìš©) |
| `resolve.alias`                     | ê²½ë¡œ ë‹¨ì¶• ì„¤ì • (ex: `@components/Button`) |
| `server.port`                       | ê°œë°œ ì„œë²„ í¬íŠ¸                            |
| `server.proxy`                      | API í”„ë¡ì‹œ ì„¤ì • (CORS íšŒí”¼ ë“±)              |
| `build.outDir`                      | ë¹Œë“œ ê²°ê³¼ë¬¼ ê²½ë¡œ                           |
| `sourcemap`                         | ë””ë²„ê¹…ìš© ì†ŒìŠ¤ë§µ ìƒì„±                         |
| `rollupOptions.output.manualChunks` | ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… ëª…ì‹œì  ì„¤ì • (ìºì‹œ ìµœì í™” ëª©ì )          |

---

# ğŸ”§ 2. Vite ë‚´ë¶€ì˜ Rollup ì„¤ì • êµ¬ì¡°

## ğŸ“¦ `vite build` ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´

1. ë‚´ë¶€ì ìœ¼ë¡œ `vite`ëŠ” Rollupì„ import
2. `rollup.rollup()` í˜¸ì¶œ
3. Viteì˜ `rollupOptions`ë¥¼ ë¨¸ì§€í•œ ì„¤ì • ê°ì²´ ìƒì„±
4. **ì½”ë“œ ë¶„ì„ â†’ íŠ¸ë¦¬ ì…°ì´í‚¹ â†’ ë²ˆë“¤ë§**

### ğŸ“Œ ê¸°ë³¸ì ì¸ Rollup ì„¤ì • ì˜ˆì‹œ (Vite ë‚´ë¶€)

```js
{
  input: '/src/main.jsx',
  plugins: [
    viteInternalPlugin,
    reactPlugin,
    esbuildTransformPlugin,
    cssPlugin,
    ...
  ],
  output: {
    dir: 'dist',
    format: 'es',
    entryFileNames: '[name].[hash].js',
    chunkFileNames: 'chunks/[name].[hash].js',
    assetFileNames: 'assets/[name].[ext]',
    manualChunks: { ... }
  }
}
```

---

# ğŸ”Œ 3. Vite í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œ êµ¬ì¡°

Viteì˜ í”ŒëŸ¬ê·¸ì¸ì€ **Rollup í”ŒëŸ¬ê·¸ì¸ì„ ê¸°ë°˜ìœ¼ë¡œ ì„¤ê³„ë˜ì—ˆì§€ë§Œ**, **Vite ì „ìš© Hookë„ ì§€ì›**í•©ë‹ˆë‹¤.

## âœ… Rollup í”ŒëŸ¬ê·¸ì¸ API

* `name`: í”ŒëŸ¬ê·¸ì¸ ì´ë¦„
* `resolveId(source)`: ëª¨ë“ˆ import ê²½ë¡œ ë¶„ì„
* `load(id)`: ëª¨ë“ˆ ë¡œë“œ ì‹œ ë™ì‘
* `transform(code, id)`: ì½”ë“œ ë³€í™˜ ì‹œì 

## âœ… Vite ì „ìš© Hook

| Hook                       | ì„¤ëª…                |
| -------------------------- | ----------------- |
| `configureServer(server)`  | ê°œë°œ ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ì— ì§ì ‘ ì ‘ê·¼ |
| `transformIndexHtml(html)` | `index.html` ì¡°ì‘   |
| `handleHotUpdate(context)` | HMR í•¸ë“¤ë§ ì»¤ìŠ¤í„°ë§ˆì´ì§•    |

---

## ğŸ“¦ ì˜ˆ: Vite ì „ìš© í”ŒëŸ¬ê·¸ì¸ ë§Œë“¤ê¸°

```js
export default function myLoggerPlugin() {
  return {
    name: 'vite:my-logger',
    transform(code, id) {
      if (id.endsWith('.jsx')) {
        console.log(`[Transform] ${id}`);
      }
      return null;
    },
    handleHotUpdate(ctx) {
      console.log(`[HMR] ${ctx.file}`);
    }
  };
}
```

* `transform`: íŠ¹ì • íŒŒì¼ íƒ€ì…ì„ ê°ì§€í•˜ì—¬ ë¡œê·¸ ì¶œë ¥
* `handleHotUpdate`: íŒŒì¼ ë³€ê²½ ì‹œ ì»¤ìŠ¤í…€ ë™ì‘ ê°€ëŠ¥

---

# ğŸ“˜ ì •ë¦¬: Vite ê³ ê¸‰ êµ¬ì„± í•µì‹¬ ìš”ì•½

| í•­ëª©                    | ì„¤ëª…                                   |
| --------------------- | ------------------------------------ |
| `vite.config.js`      | Viteì˜ ëª¨ë“  ì„¤ì • ì—”íŠ¸ë¦¬í¬ì¸íŠ¸, Rollup ì„¤ì •ë„ í¬í•¨    |
| `build.rollupOptions` | Vite â†’ Rollupìœ¼ë¡œ ì „ë‹¬ë˜ëŠ” ì˜µì…˜              |
| Vite Plugin           | Rollup í”ŒëŸ¬ê·¸ì¸ ê¸°ë°˜ + ìì²´ Hookë„ ì§€ì›         |
| ìˆ˜ë™ ì²­í¬ ì„¤ì •              | í° ë¼ì´ë¸ŒëŸ¬ë¦¬(react ë“±)ë¥¼ ë³„ë„ ì²­í¬ë¡œ ë¶„ë¦¬ â†’ ìºì‹± ìµœì í™” |
| í”„ë¡ì‹œ ì„¤ì •                | CORS ìš°íšŒ ë˜ëŠ” ë°±ì—”ë“œ API í”„ë¡ì‹œ í•„ìš” ì‹œ í™œìš©       |

