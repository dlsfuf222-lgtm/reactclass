리액트의 `<Link>` 컴포넌트는 “링크처럼 보이는 것”이 아니라, **SPA(싱글 페이지 앱)의 심장부에서 동작하는 네비게이션 엔진**입니다.
한 줄 요약부터 하고 가볼게요.

> ✅ **요약**: `<Link>`는 브라우저를 새로고침하지 않고,
> URL만 바꾸면서 React Router가 화면을 교체하도록 도와주는 “클라이언트 사이드 네비게이션 전용 컴포넌트”입니다.

아래 내용은 **React Router v6 기준**으로 설명드리겠습니다.

---

## 1. `<Link>`는 무엇이고, 왜 필요한가? 🤔

### 1-1. 전통적인 HTML의 `<a>` 태그

기본 HTML에서는 이렇게 씁니다:

```html
<a href="/about">About 페이지로 이동</a>
```

* 클릭하면 브라우저가 **서버에 /about를 다시 요청**
* 서버가 HTML 전체를 다시 내려줌
* 브라우저는 **전체 페이지를 새로 로드** (JS, CSS, 이미지 등 다시 요청할 수도 있음)
* React 앱이라면, 번들 JS가 다시 로딩되고, React가 다시 부트스트랩

즉, **페이지 전체가 갈아치워지는 전통적인 “문서 이동” 방식**입니다.

---

### 1-2. SPA(싱글 페이지 앱)의 네비게이션 철학

React Router를 사용하는 SPA에서는 일반적으로:

* 실제로는 **index.html 하나만** 로드
* URL만 바뀌고, 그에 맞는 **컴포넌트 트리만 교체/업데이트**
* 서버에 “새 HTML 문서를 요청”하지 않고,
  **클라이언트(브라우저) 쪽 라우터가 화면 전환을 담당**

그래서 필요한 것이:

> ❗ **“브라우저 주소는 바꾸되, 페이지는 새로고침하지 말아줘”**
> 이 요구를 만족시키는 도구가 바로 `<Link>`입니다.

---

### 1-3. `<Link>` 한 줄로 본 개념

```tsx
import { Link } from 'react-router-dom'

function Nav() {
  return (
    <nav>
      <Link to="/">홈</Link>
      <Link to="/about">소개</Link>
    </nav>
  )
}
```

* `<a href="/about">`처럼 **겉으로는 링크**
* 내부적으로는:

  * 클릭 이벤트를 가로채서 `event.preventDefault()` 호출
  * React Router의 **history 조작 로직**을 호출해서 URL만 변경
  * Router가 “어, URL 바뀌었네?” → 매칭되는 Route 컴포넌트만 갈아끼움
* 이 과정에서 **브라우저 전체 리로드는 발생하지 않음**

---

## 2. `<a>` vs `<Link>` 차이를 조금 더 깊게 🔍

| 구분                           | `<a href="...">`                 | `<Link to="...">` (React Router)     |
| ---------------------------- | -------------------------------- | ------------------------------------ |
| 페이지 로딩 방식                    | 서버에 새 문서 요청 → 전체 새로고침            | 클라이언트 라우터가 처리 → SPA 내부 화면 전환         |
| 상태 유지 (React state, Redux 등) | 새로고침시 대부분 **초기화**                | 그대로 유지 (동일 SPA 내 이동)                 |
| 성능                           | 매 이동마다 JS/CSS 재평가 가능 → 상대적으로 느림  | JavaScript 런타임 유지 → 훨씬 빠르고 부드러운 전환   |
| 브라우저 히스토리                    | 기본 history.push                  | React Router가 history stack을 정교하게 제어 |
| 사용할 때                        | 외부 사이트, 파일 다운로드, 전통 서버 렌더링 페이지 등 | 같은 React Router 앱 내부 라우팅             |

**정리**

* **동일 SPA 내부** 이동 → `<Link>` / `useNavigate`
* **다른 사이트 / 파일 다운로드** → `<a>` 유지

---

## 3. `<Link>` 기본 사용법 🧩

### 3-1. 가장 기본적인 예제

```tsx
import { BrowserRouter, Routes, Route, Link } from 'react-router-dom'

function App() {
  return (
    <BrowserRouter>
      <nav>
        <Link to="/">홈</Link>
        <Link to="/about">소개</Link>
      </nav>

      <Routes>
        <Route path="/" element={<HomePage />} />
        <Route path="/about" element={<AboutPage />} />
      </Routes>
    </BrowserRouter>
  )
}

function HomePage() {
  return <h1>Home</h1>
}

function AboutPage() {
  return <h1>About</h1>
}
```

`<Link to="/about">` 클릭 →

1. **페이지 새로고침❌**
2. URL은 `/about`으로 변경
3. `<Routes>`가 path `/about`에 매칭되는 `<Route>`를 찾아 `<AboutPage />` 렌더링

---

### 3-2. `to` 속성의 다양성

`to`는 단순 문자열만 되는 게 아니라, **여러 형태**를 받습니다.

#### ① 문자열 경로

```tsx
<Link to="/items">아이템 목록</Link>
<Link to="/items/10">10번 아이템</Link>
<Link to="settings">상대 경로 이동</Link>
```

* `/items`, `/items/10` : 절대 경로
* `"settings"` : **현재 경로 기준 상대 경로** (중첩 라우팅에서 매우 중요)

#### ② 객체 형태 (pathname, search, hash)

```tsx
<Link
  to={{
    pathname: '/search',
    search: '?q=react&sort=latest',
    hash: '#top',
  }}
>
  검색 결과 보기
</Link>
```

* `pathname` → `/search`
* `search` → `?q=react&sort=latest`
* `hash` → `#top`
* 최종 URL: `/search?q=react&sort=latest#top`

→ query string, 해시 등을 **명시적으로 조합**할 때 유용합니다.

---

## 4. `<Link>`의 주요 props 정리 📚

React Router v6 기준으로 자주 쓰는 props만 정리해 볼게요.

### 4-1. `to` (필수)

* 이동할 **경로 또는 위치 객체**
* string 또는 `{ pathname, search, hash }` 객체

```tsx
<Link to="/users">Users</Link>
<Link to="/users/42">User 42</Link>
<Link to={{ pathname: '/search', search: '?q=react' }}>Search</Link>
```

---

### 4-2. `replace` – 히스토리 교체 여부

기본적으로 `<Link>`를 클릭하면 브라우저 history에 **새 항목이 push**됩니다.
즉, 뒤로 가기(Back)로 이전 페이지로 돌아갈 수 있습니다.

`replace`를 `true`로 주면:

```tsx
<Link to="/login" replace>
  로그인 다시 하기
</Link>
```

* 기존 history 항목을 **현재 페이지로 덮어쓰기**
* 사용 예시:

  * 로그인 성공 후 `navigate('/', { replace: true })`와 유사하게,
  * “뒤로 가기 눌렀을 때 로그인 페이지로 다시 돌아가지 않게” 만들고 싶을 때

---

### 4-3. `state` – 라우트 간에 추가 데이터 전달 📦

URL에 직접 노출하기 싫은 데이터를 넘길 때 `state`를 활용할 수 있습니다.

```tsx
<Link
  to="/checkout"
  state={{ from: 'cart', discountCode: 'SPRING10' }}
>
  결제하러 가기
</Link>
```

* 대상 컴포넌트에서 `useLocation`으로 읽습니다:

```tsx
import { useLocation } from 'react-router-dom'

function CheckoutPage() {
  const location = useLocation()
  console.log(location.state) // { from: 'cart', discountCode: 'SPRING10' }

  return <div>Checkout</div>
}
```

특징:

* 브라우저 history state에 저장 → 새로고침 시 일부 환경에서 유지 X 가능 (브라우저 동작에 의존)
* URL에 노출되지는 않지만, **보안상의 민감 정보는 여전히 주의** (완벽한 보안 수단 아님)

---

### 4-4. 기타 유용한 props들 (개념 위주)

버전에 따라 조금씩 다르지만, 대표적으로:

* `reloadDocument`

  * 기본 동작(클라이언트 사이드 네비게이션)을 무시하고 **진짜로 브라우저 새로고침**을 하며 이동
  * 특정 상황에서 전통적인 `<a>` 처럼 동작시키고 싶을 때 사용

---

## 5. `<Link>`와 중첩 라우팅, 상대 경로 🧭

React Router v6에서는 **Relative Routing (상대 경로 라우팅)**이 매우 중요한 개념입니다.

예를 들어:

```tsx
// 라우터 설정
<Routes>
  <Route path="dashboard" element={<DashboardLayout />}>
    <Route path="stats" element={<StatsPage />} />
    <Route path="settings" element={<SettingsPage />} />
  </Route>
</Routes>
```

이때, `DashboardLayout` 안에서 Navigation을 만들 때:

```tsx
import { Link, Outlet } from 'react-router-dom'

function DashboardLayout() {
  return (
    <div>
      <nav>
        {/* 상대 경로 사용 */}
        <Link to="stats">통계</Link>
        <Link to="settings">설정</Link>
      </nav>

      <Outlet />
    </div>
  )
}
```

* 현재 URL이 `/dashboard`일 때
* `to="stats"` → 최종 URL `/dashboard/stats`
* `to="settings"` → 최종 URL `/dashboard/settings`

**중요 포인트**:

* 상위 Route의 `path`와 현재 위치를 기준으로 상대 경로를 해석
* 중첩 라우팅 구조에서는 `to="/dashboard/stats"`처럼 절대경로로만 쓰기보다
  `to="stats"`처럼 상대 경로를 적극적으로 활용하는 것이 구조를 더 명확하게 만듭니다.

---

## 6. `<Link>` vs `useNavigate` – 언제 무엇을 쓸까? 🧠

둘 다 “라우터 네비게이션”을 담당하지만, 사용 목적이 다릅니다.

### 6-1. `<Link>`를 쓸 때

* **사용자가 직접 클릭하는 “보이는 링크”**를 만들고 싶을 때
* 예: 메뉴, 탭, 브레드크럼 등

```tsx
<Link to="/profile">프로필</Link>
```

### 6-2. `useNavigate`를 쓸 때

* **이벤트 핸들러나 비동기 로직 안에서 조건부로 이동**하고 싶을 때
* 예: 로그인 성공 시, 폼 제출 성공 시, 특정 조건에서 강제 리다이렉트 등

```tsx
import { useNavigate } from 'react-router-dom'

function LoginForm() {
  const navigate = useNavigate()

  const handleSubmit = async (e) => {
    e.preventDefault()
    // 로그인 검증 로직...
    const ok = true

    if (ok) {
      navigate('/dashboard', { replace: true })
    }
  }

  return <form onSubmit={handleSubmit}>{/* ... */}</form>
}
```

**정리**:

* “링크처럼 보이는 UI” → `<Link>`
* “코드 로직 안에서 이동” → `useNavigate`

---

## 7. `<Link>` 사용 시 자주 나오는 패턴들 🧱

### 7-1. 리스트에서 상세 페이지로 이동

```tsx
function PostList({ posts }) {
  return (
    <ul>
      {posts.map(post => (
        <li key={post.id}>
          <Link to={`/posts/${post.id}`}>{post.title}</Link>
        </li>
      ))}
    </ul>
  )
}
```

* `/posts/:id` 라우트와 함께 사용
* URL 파라미터(`useParams`)로 id를 읽어서 상세 페이지 구성

---

### 7-2. 버튼처럼 보이지만 링크인 경우 🎛️

디자인 상 “버튼 모양”이지만 실제로는 페이지 이동이라면:

```tsx
<Link
  to="/checkout"
  className="inline-flex items-center rounded bg-blue-600 px-4 py-2 text-white hover:bg-blue-700"
>
  결제하기
</Link>
```

* 시맨틱하게는 “링크”지만,
* UI에서는 버튼 스타일 적용

> ⚠️ 단, 접근성 측면에서 “동일 페이지 내에서 상태만 살짝 바꾸는 동작”이라면
> `<button>` + `onClick`가 더 적절합니다.
> “페이지 이동/URL 변경”이라면 `<Link>`쪽이 의미상 적절합니다.

---

## 8. `<Link>`를 쓸 때 흔한 실수들 🚨

### 8-1. `<a>`와 `<Link>`를 섞어 쓰는 경우

```tsx
// ❌ 이렇게 하면 SPA 이점이 사라짐
<a href="/about">소개</a>
```

* React Router를 쓰는 SPA 내부 이동이라면 가능하면 **모두 `<Link>`로 통일**하는 것이 좋습니다.

---

### 8-2. `to`와 라우트 정의가 불일치

```tsx
// 라우트 정의
<Route path="/products/:id" element={<ProductDetail />} />

// 링크 정의
<Link to="/product/1">상품 1번</Link>  // ❌ 오타: products가 아니라 product
```

* 오타나 잘못된 경로로 인해 화면은 안 바뀌고,
  (특히 404 Route가 제대로 설정되어 있지 않으면) “아무것도 안 나오는” 상황이 발생

**팁**:
경로 문자열들을 상수로 분리해서 관리하거나,
route 객체를 따로 만들어 놓으면 편합니다.

---

### 8-3. 외부 링크에 `<Link>`를 사용하는 경우

```tsx
// ❌ 이렇게 쓰면 안 됩니다.
<Link to="https://google.com">Google</Link>
```

* React Router의 `<Link>`는 **앱 내부 라우팅 전용**입니다.
* 외부 사이트 이동은 **전통적인 `<a>`**로 가는 것이 맞습니다:

```tsx
<a href="https://google.com" target="_blank" rel="noreferrer">
  Google
</a>
```

---

## 9. `<NavLink>`와의 관계 – “현재 페이지인지” 구분하고 싶다면 ⭐

현재 URL과 매칭되는 링크에 **active 스타일**을 주고 싶을 때는
보통 `<Link>` 대신 `<NavLink>`를 사용합니다. (개념만 짚고 갈게요)

```tsx
import { NavLink } from 'react-router-dom'

function Nav() {
  return (
    <nav>
      <NavLink
        to="/"
        className={({ isActive }) =>
          isActive ? 'text-blue-600 font-bold' : 'text-gray-600'
        }
      >
        홈
      </NavLink>

      <NavLink
        to="/about"
        className={({ isActive }) => (isActive ? 'underline' : undefined)}
      >
        소개
      </NavLink>
    </nav>
  )
}
```

* `<NavLink>`는 `<Link>` + “현재 라우트와 매칭 여부”를 알려주는 기능
* `isActive`를 기반으로 스타일을 다르게 줄 수 있습니다.

---

## 10. 마무리 정리 🧾

React Router의 `<Link>`는 단순히:

> “React에서 쓰는 `<a>` 대체품”

이 아니라,

> **“브라우저 히스토리를 직접 제어하면서 SPA의 화면 전환을 담당하는 핵심 네비게이션 컴포넌트”**입니다.

핵심 포인트를 다시 한 번 bullet로 정리하면:

* `<Link>`는 클릭 시 **브라우저 새로고침 없이 URL만 변경**
* React Router가 URL을 감지해서 **매칭되는 컴포넌트만 렌더링 교체**
* `to`는 문자열 또는 위치 객체 (`pathname`, `search`, `hash`)를 받는다
* `replace`, `state`, `reloadDocument` 등으로 동작을 세밀하게 제어 가능
* **내부 라우팅** → `<Link>` / `useNavigate`
  **외부 사이트 / 파일 다운로드** → `<a>`
* 중첩 라우팅 환경에서는 **상대 경로 `to="settings"`** 패턴이 매우 중요
* “현재 페이지인지에 따라 스타일을 다르게” → `<NavLink>` 사용


