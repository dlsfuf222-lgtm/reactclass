# 🧠 `<Route>`

## 📌 정의

`<Route>`는 특정 URL 경로(path)에 대해 **어떤 컴포넌트를 렌더링할지 정의**하는 React Router의 핵심 컴포넌트입니다.

```jsx
<Route path="/about" element={<About />} />
```

* 위는 `/about` 경로가 URL에 있을 때 `<About />` 컴포넌트를 렌더링하라는 의미입니다.

---

## 🔍 핵심 속성

| 속성                                           | 설명                                        |
| -------------------------------------------- | ----------------------------------------- |
| `path`                                       | URL 경로 지정 (`/`, `/about`, `/users/:id` 등) |
| `element`                                    | 매칭되었을 때 렌더링할 JSX 컴포넌트 (필수)                |
| `index`                                      | 부모 경로의 인덱스(default) 하위 라우트 지정 시 사용        |
| `caseSensitive`                              | 경로 매칭 시 대소문자 구분 여부                        |
| `loader`, `action`, `errorElement`, `handle` | \[데이터 라우팅용 고급 속성 (v6.4+)]                 |

---

## 🧱 `element` 속성 – 필수 속성

React Router v6에서는 **`element` 속성이 필수**입니다. 이 속성에 JSX를 전달하며, 해당 경로가 매칭될 때 렌더링할 UI를 정의합니다.

```jsx
<Route path="/login" element={<LoginPage />} />
```

> ✅ `element`는 반드시 **컴포넌트 인스턴스 (`<Component />`)** 를 전달해야 합니다. 컴포넌트 함수 자체(`LoginPage`)는 안 됩니다.

---

## 🧠 동적 라우팅 (Dynamic Segments)

```jsx
<Route path="/users/:id" element={<UserProfile />} />
```

* `/users/123` 과 같은 경로가 `/users/:id` 에 매칭되며,
* `useParams()` 훅을 통해 `id` 값을 추출할 수 있습니다.

```jsx
const { id } = useParams(); // id === "123"
```

---

## 🔁 중첩 라우트 (Nested Routes)

중첩 `<Route>`는 **부모 Route 내에서 자식 경로를 정의**하며, 부모 컴포넌트에서 `<Outlet />`을 통해 자식을 삽입합니다.

```jsx
<Route path="/dashboard" element={<Dashboard />}>
  <Route path="stats" element={<Stats />} />
  <Route path="settings" element={<Settings />} />
</Route>
```

* 실제 URL은 `/dashboard/stats`, `/dashboard/settings`.
* `<Dashboard />` 내부에 `<Outlet />`이 있어야 함.

```jsx
// Dashboard.jsx
return (
  <div>
    <h1>Dashboard</h1>
    <Outlet /> {/* 여기에 자식 컴포넌트가 렌더링됨 */}
  </div>
);
```

---

## 🧪 `index` Route – 기본 자식 경로

* 부모 경로의 기본 화면으로 지정할 때 사용

```jsx
<Route path="/products" element={<ProductLayout />}>
  <Route index element={<ProductList />} />   // /products
  <Route path=":id" element={<ProductDetail />} /> // /products/42
</Route>
```

`index`는 `path`가 없어야 하며, 중첩된 `<Route>`에서만 사용합니다.

---

## 🧩 경로 패턴

| 패턴           | 설명                    |
| ------------ | --------------------- |
| `/`          | 루트 경로                 |
| `/about`     | 정적 경로                 |
| `/users/:id` | 동적 세그먼트               |
| `/files/*`   | 와일드카드 (catch-all)     |
| `*`          | 전체 fallback (404 처리용) |

---

## ⚙️ 고급 기능 (v6.4 이상)

> ⚠️ 이 섹션은 데이터 라우팅(Data Router)을 사용할 때만 해당합니다.

### `loader`

* 컴포넌트 렌더링 전에 데이터를 비동기 로드하는 함수

```jsx
<Route path="/profile" element={<Profile />} loader={fetchProfile} />
```

### `action`

* 폼 제출 등에서 사용할 POST 요청 핸들러

```jsx
<Route path="/form" element={<Form />} action={handleSubmit} />
```

### `errorElement`

* 해당 라우트에 에러가 발생했을 때 렌더링할 컴포넌트

---

## 🚫 React Router v5와의 차이점

| 버전 | 특징                                                   |
| -- | ---------------------------------------------------- |
| v5 | `<Route path="/" component={Home} />` 혹은 `render` 사용 |
| v6 | 반드시 `element={<Home />}` 형식 사용                       |

---

## 💡 자주 묻는 질문 (FAQ)

### Q1. `path`가 없는 `<Route>`도 가능한가요?

> 네, 가능합니다. 일반적으로 중간 래퍼 역할을 하며, 레이아웃 컴포넌트로 활용됩니다.

```jsx
<Route element={<MainLayout />}>
  <Route path="home" element={<Home />} />
</Route>
```

### Q2. `Route`에서 `exact`는 왜 안 쓰나요?

> React Router v6부터는 `exact` 속성이 **자동 적용**되므로 별도 지정할 필요 없습니다.

---

## ✅ 요약

| 항목       | 설명                                |
| -------- | --------------------------------- |
| 역할       | 특정 경로에 대해 JSX 컴포넌트를 렌더링           |
| 필수 속성    | `element`                         |
| 중첩 지원    | `<Route>` 중첩 → `<Outlet>`과 함께 사용  |
| 동적 경로    | `/path/:id` → `useParams()`로 값 추출 |
| index 사용 | 부모 경로의 기본 자식 지정                   |
| 와일드카드    | `*`, `/*` → 404 fallback 및 하위 라우팅 |

---

## 📁 예제: 중첩 + 동적 + index + fallback

```jsx
<Routes>
  <Route path="/" element={<Layout />}>
    <Route index element={<Home />} />
    <Route path="about" element={<About />} />
    <Route path="users">
      <Route index element={<UserList />} />
      <Route path=":id" element={<UserDetail />} />
    </Route>
    <Route path="*" element={<NotFound />} />
  </Route>
</Routes>
```


