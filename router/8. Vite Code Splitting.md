Viteì—ì„œì˜ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ì€ ê·¸ëƒ¥ â€œdynamic import ì“°ë©´ ì•Œì•„ì„œ ì˜ í•´ì¤Œâ€ ìˆ˜ì¤€ì´ ì•„ë‹ˆë¼,
**dev ì„œë²„ë¶€í„° Rollup ë¹Œë“œ, CSS, í”„ë¦¬ë¡œë“œê¹Œì§€ ë‹¤ ì—°ê²°ëœ í° ê·¸ë¦¼**ìœ¼ë¡œ ì´í•´í•˜ì‹œë©´ í›¨ì”¬ ì¬ë°ŒìŠµë‹ˆë‹¤. ğŸ˜

---

## 1. ë¨¼ì € í° ê·¸ë¦¼: ViteëŠ” devì™€ buildê°€ ì™„ì „íˆ ë‹¤ë¥´ë‹¤ ğŸ§ 

### 1) ê°œë°œ ëª¨ë“œ: **ë²ˆë“¤ ì—†ìŒ, ë„¤ì´í‹°ë¸Œ ESM**

`npm run dev` ìƒíƒœì—ì„œ ViteëŠ”:

* ë¸Œë¼ìš°ì €ì—ê²Œ **ê·¸ëƒ¥ ES Modules** íŒŒì¼ë“¤ì„ ê·¸ëŒ€ë¡œ ì„œë¹™í•©ë‹ˆë‹¤.

  * `import './App.jsx'` â†’ App.jsx íŒŒì¼ ê·¸ëŒ€ë¡œ ìš”ì²­
  * `import xyz from './foo.js'` â†’ foo.js íŒŒì¼ ê·¸ëŒ€ë¡œ ìš”ì²­
* ì´ ë‹¨ê³„ì—ì„œëŠ” **Rollup ë²ˆë“¤ë§ë„, ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ë„ ì—†ìŠµë‹ˆë‹¤.**

  * ì´ë¯¸ íŒŒì¼ ë‹¨ìœ„ë¡œ ìª¼ê°œì ¸ ìˆê³ , ë¸Œë¼ìš°ì €ê°€ ESMì„ ì´í•´í•˜ë‹ˆê¹Œìš”.

ì¦‰, dev ëª¨ë“œì—ì„œëŠ” ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ì„ ì‹ ê²½ ì“¸ í•„ìš”ê°€ ì „í˜€ ì—†ìŠµë‹ˆë‹¤.
ë¬¸ì œëŠ” **í”„ë¡œë•ì…˜ ë¹Œë“œ**ì—ì„œ ì‹œì‘ë©ë‹ˆë‹¤.

---

### 2) í”„ë¡œë•ì…˜ ë¹Œë“œ: Rollup ê¸°ë°˜ ë²ˆë“¤ + ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…

`vite build` ë¥¼ í•˜ë©´:

* Viteê°€ **ì „ì²´ ëª¨ë“ˆ ê·¸ë˜í”„**ë¥¼ ì½ì–´ë“¤ì—¬ì„œ
* ë‚´ë¶€ì ìœ¼ë¡œ **Rollup**ì—ê²Œ ë„˜ê¸°ê³ 
* Rollupì´:

  * ëª¨ë“ˆë“¤ì„ ë²ˆë“¤/ì²­í¬ë¡œ ë¬¶ê³  (bundle & chunking)
  * dynamic import ê²½ê³„ ê¸°ì¤€ìœ¼ë¡œ **ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…**ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. ([Vite][1])

ì •ë¦¬í•˜ë©´:

> **ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ì€ Vite dev ì„œë²„ê°€ ì•„ë‹ˆë¼,
> `vite build` ì‹œì ì— Rollupì´ í•˜ëŠ” ì¼**ì…ë‹ˆë‹¤.

---

## 2. Viteì˜ â€œê¸°ë³¸ ìë™ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…â€ ğŸ’¡

### 2.1. dynamic importê°€ ê³§ â€œìŠ¤í”Œë¦¿ í¬ì¸íŠ¸â€

Viteì—ì„œ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ì€ **ê±°ì˜ ë‹¤ dynamic import ê¸°ì¤€**ìœ¼ë¡œ ì¼ì–´ë‚©ë‹ˆë‹¤.

```js
// ì •ì  import â†’ ì´ˆê¸° ë²ˆë“¤ì— ë¬´ì¡°ê±´ í¬í•¨
import { heavyFn } from './heavy-module'

// ë™ì  import â†’ ë³„ë„ ì²­í¬ë¡œ ë¶„ë¦¬
button.addEventListener('click', async () => {
  const { heavyFn } = await import('./heavy-module')
  heavyFn()
})
```

* Rollup + ViteëŠ” `import('./heavy-module')` ë¥¼ ë³´ëŠ” ìˆœê°„:

  * â€œì—¬ê¸°ëŠ” ë‚˜ì¤‘ì— í•„ìš”í•  ìˆ˜ë„ ìˆê² êµ°?â€ â†’ **ë³„ë„ chunk** ìƒì„±
* ì‹¤ì œ ëŸ°íƒ€ì„ì—ì„œ `import()`ê°€ ì‹¤í–‰ë˜ëŠ” ì‹œì ì—:

  * ë„¤íŠ¸ì›Œí¬ë¡œ `heavy-module-xxx.js` ê°™ì€ ì²­í¬ë¥¼ ìš”ì²­í•©ë‹ˆë‹¤. ([GitHub][2])

Reactì—ì„œëŠ” ì´ íŒ¨í„´ì„ `React.lazy(() => import(...))` ë¡œ ê°ì‹¸ì„œ ì»´í¬ë„ŒíŠ¸ ë ˆë²¨ì—ì„œ ê¹”ë”í•˜ê²Œ ì“°ëŠ” ê±°ê³ ìš”.

---

### 2.2. React + Viteì—ì„œì˜ ê°€ì¥ í”í•œ íŒ¨í„´: ë¼ìš°íŠ¸ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…

```jsx
// App.jsx
import { BrowserRouter, Routes, Route } from 'react-router-dom'
import { Suspense } from 'react'

const Home = React.lazy(() => import('./pages/Home'))
const Admin = React.lazy(() => import('./pages/Admin'))
const Dashboard = React.lazy(() => import('./pages/Dashboard'))

export default function App() {
  return (
    <BrowserRouter>
      <Suspense fallback={<p>í˜ì´ì§€ ë¡œë”© ì¤‘...</p>}>
        <Routes>
          <Route path="/" element={<Home />} />
          <Route path="/admin" element={<Admin />} />
          <Route path="/dashboard" element={<Dashboard />} />
        </Routes>
      </Suspense>
    </BrowserRouter>
  )
}
```

ì´ë ‡ê²Œë§Œ í•´ë„ ViteëŠ” ë¹Œë“œ ì‹œ:

* `assets/index-xxxxx.js` (ì—”íŠ¸ë¦¬)
* `assets/pages-Home-xxxx.js`
* `assets/pages-Admin-xxxx.js`
* `assets/pages-Dashboard-xxxx.js`
* (ê³µí†µ ì˜ì¡´ì„± chunkë“¤)

ì²˜ëŸ¼ **í˜ì´ì§€ ë‹¨ìœ„**ë¡œ ìª¼ê°œ ì¤ë‹ˆë‹¤. ([Velog][3])

---

## 3. Viteê°€ ê²½ê³ í•´ì£¼ëŠ” â€œLarge Chunkâ€ì™€ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… ğŸ§¯

ì–´ëŠ ìˆœê°„ `vite build`ë¥¼ í•˜ë©´ ì´ëŸ° ê²½ê³ ë¥¼ ë³´ì‹œê²Œ ë©ë‹ˆë‹¤:

```txt
(!) Some chunks are larger than 500 kB after minification. Consider:
- Using dynamic import() to code-split the application
- Use build.rollupOptions.output.manualChunks to improve chunking
- Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
```

* â€œì–´ë–¤ chunkê°€ 500kB ë„˜ì—ˆë‹¤â€
* í•´ê²°ì±…ìœ¼ë¡œ:

  * `dynamic import()`ë¡œ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…í•˜ë¼
  * `manualChunks`ë¡œ ì²­í‚¹ ì „ëµì„ ë” ì„¸ë°€í•˜ê²Œ ì œì–´í•˜ë¼
  * ê²½ê³  ì„ê³„ê°’ì„ ì˜¬ë¦´ ìˆ˜ë„ ìˆë‹¤ ([Velog][3])

ì¦‰, Viteê°€ ì¹œì ˆí•˜ê²Œ:

> â€œì§€ê¸ˆ ë²ˆë“¤ì´ ë„ˆë¬´ ëš±ëš±í•œë°, dynamic importë‚˜ manualChunks ì¨ì„œ ì¢€ ë‚˜ëˆ ë¼â€

ë¼ê³  ì•Œë ¤ì£¼ê³  ìˆëŠ” ê²ë‹ˆë‹¤.

---

## 4. Viteì˜ Chunking ì „ëµ: Rollup + Vite ì˜µì…˜ ğŸ›ï¸

### 4.1. ê°€ì¥ í•µì‹¬: `build.rollupOptions.output.manualChunks`

ViteëŠ” **Rollup ì˜µì…˜ì„ ê·¸ëŒ€ë¡œ ê±´ë„¤ì¤„ ìˆ˜ ìˆëŠ” êµ¬ë©**ì„ ì—´ì–´ë‘¡ë‹ˆë‹¤:

```js
// vite.config.js
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['react', 'react-dom'], // ì˜ˆ: ë¦¬ì•¡íŠ¸ ë¬¶ê¸°
        },
      },
    },
  },
})
```

* `manualChunks` ëŠ” â€œì²­í¬ë¥¼ ì–´ë–»ê²Œ ë‚˜ëˆŒì§€â€ë¥¼ ì§ì ‘ ì œì–´í•˜ëŠ” ì˜µì…˜ì…ë‹ˆë‹¤.([Vite][1])
* ìœ„ ì˜ˆì‹œëŠ”:

  * `react`, `react-dom` ì„ **`vendor-xxxxx.js`** ê°™ì€ ì²­í¬ë¡œ ë¶„ë¦¬

ì¡°ê¸ˆ ë” ë™ì ìœ¼ë¡œ í•˜ê³  ì‹¶ìœ¼ë©´ **í•¨ìˆ˜ ë²„ì „**ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤:

```js
output: {
  manualChunks(id) {
    if (id.includes('node_modules')) {
      const name = id.split('node_modules/')[1].split('/')[0]
      return `vendor/${name}` // vendor/react, vendor/lodash ì‹ìœ¼ë¡œ ë¶„ë¦¬
    }
  },
},
```

ì´ëŸ° íŒ¨í„´ì€ ì‹¤ì œë¡œ ë§ì´ ì“°ì´ê³ ,
â€œnode_modulesë³„ë¡œ ì²­í¬ë¥¼ ìª¼ê°œìâ€ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. ([arkhyeon][4])

---

### 4.2. splitVendorChunkPlugin: ê¸°ë³¸ ë²¤ë” ìŠ¤í”Œë¦¬íŒ… í”ŒëŸ¬ê·¸ì¸

Vite 2.9 ì´í›„ë¡œëŠ” **ê¸°ë³¸ vendor ë¶„ë¦¬ ì „ëµì„ ê±´ë“œë¦¬ì§€ ì•Šê³ **,
ì›í•˜ë©´ í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ ì„ íƒí•´ì„œ ì“°ë„ë¡ ë˜ì–´ ìˆìŠµë‹ˆë‹¤.([Vite][1])

```js
// vite.config.js
import { defineConfig, splitVendorChunkPlugin } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [
    react(),
    splitVendorChunkPlugin(), // node_modulesì—ì„œ ê³µí†µ vendor ì²­í¬ ë¶„ë¦¬
  ],
})
```

* ì´ í”ŒëŸ¬ê·¸ì¸ì€ ì—¬ëŸ¬ ì—”íŠ¸ë¦¬/ë¼ìš°íŠ¸ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í•˜ë‚˜ì˜ vendor chunkë¡œ ë¬¶ì–´ ì£¼ëŠ” ì „ëµì…ë‹ˆë‹¤.
* ë‹¨ì¼ SPAì—ë„ ì“¸ ìˆ˜ ìˆê³ , MPAì—ë„ ìœ ìš©í•©ë‹ˆë‹¤.

ì¢€ ë” ì»¤ìŠ¤í…€í•˜ë ¤ë©´ `splitVendorChunk()` íŒ©í† ë¦¬ë¥¼ ì‚¬ìš©í•´ì„œ ì§ì ‘ ìºì‹œ ì œì–´ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.([Vite][1])

---

## 5. Viteì˜ **CSS ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…**ë„ ì¤‘ìš”í•˜ë‹¤ ğŸ¨

ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ì€ JSë§Œì˜ ì´ì•¼ê¸°ê°€ ì•„ë‹™ë‹ˆë‹¤. ViteëŠ” **CSSë„ í•¨ê»˜ ë¶„ë¦¬**í•©ë‹ˆë‹¤.

### 5.1. `build.cssCodeSplit` (ê¸°ë³¸ê°’: `true`)

Vite ë¬¸ì„œì— ë”°ë¥´ë©´: ([ko.vite.dev][5])

* ê¸°ë³¸ê°’: `true`
* ì˜ë¯¸:

  * ë¹„ë™ê¸° JS ì²­í¬(= dynamic importë¡œ ë§Œë“¤ì–´ì§„ ì²­í¬)ì— í¬í•¨ëœ CSSë¥¼
  * **ë³„ë„ì˜ CSS íŒŒì¼**ë¡œ ì¶”ì¶œí•´ì„œ
  * í•´ë‹¹ ì²­í¬ë¥¼ ë¡œë“œí•  ë•Œ `<link rel="stylesheet">` ë¡œ ê°™ì´ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.
  * ê·¸ë¦¬ê³  CSS ë¡œë”©ì´ ëë‚œ ë’¤ì— JS ì²­í¬ë¥¼ í‰ê°€í•´ì„œ **FOUC(ê¹œë¹¡ì„)** ì„ ë°©ì§€í•©ë‹ˆë‹¤.

ì¦‰:

```jsx
const AdminPage = React.lazy(() => import('./pages/Admin'))
```

* `Admin` í˜ì´ì§€ ì•ˆì—ì„œ `import './Admin.css'` ë¥¼ í•˜ê³  ìˆë‹¤ë©´

  * `Admin-xxxx.js`
  * `Admin-xxxx.css`
    ë¡œ ë‚˜ë‰˜ê³ , Admin ì²­í¬ ë¡œë”© ì‹œ CSSë„ ê°™ì´ `<link>` ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤. ([ko.vite.dev][6])

### 5.2. CSS ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… ë„ê¸°

ë§Œì•½ â€œCSSëŠ” ê·¸ëƒ¥ í•œ íŒŒì¼ë¡œ ë‹¤ í•©ì³ì¤˜â€ ë¼ê³  í•˜ê³  ì‹¶ë‹¤ë©´:

```js
// vite.config.js
export default defineConfig({
  build: {
    cssCodeSplit: false,
  },
})
```

* ì´ ê²½ìš° **ì „ì²´ CSSê°€ í•˜ë‚˜ì˜ íŒŒì¼**ë¡œ ëª¨ì…ë‹ˆë‹¤. ([ko.vite.dev][5])
* ë¼ì´ë¸ŒëŸ¬ë¦¬ ëª¨ë“œ(`build.lib`)ì—ì„œëŠ” ê¸°ë³¸ê°’ì´ `false` ê°€ ë˜ê¸°ë„ í•©ë‹ˆë‹¤. (CSS í•˜ë‚˜ë¡œ ë½‘ëŠ”ê²Œ ì¼ë°˜ì ì´ë¼ì„œ) ([ko.vite.dev][5])

---

## 6. Dynamic Import ìµœì í™”: í”„ë¦¬ë¡œë“œ & async chunk ìµœì í™” âš¡

ViteëŠ” ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ë§Œ í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼,
**ìŠ¤í”Œë¦¿ëœ ì²­í¬ë¥¼ â€œì–´ë–»ê²Œ ë¹¨ë¦¬ ê°€ì ¸ì˜¬ ê²ƒì¸ê°€â€** ë„ ì†ëŒ€ ì¤ë‹ˆë‹¤.

### 6.1. modulepreload ìë™ ì¶”ê°€

* ë¹Œë“œ ì‹œ, ViteëŠ” **Direct import**(ì •ì  import)ì— ëŒ€í•´

  * `<link rel="modulepreload" href="/assets/...">` íƒœê·¸ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤. ([ko.vite.dev][6])
* ì´ë¥¼ í†µí•´ ë¸Œë¼ìš°ì €ê°€ **ë¯¸ë¦¬ í•´ë‹¹ ëª¨ë“ˆì„ ìºì‹œ**í•´ ë‘ê³ ,

  * ì‹¤ì œ ì‚¬ìš©í•  ë•Œ ë” ë¹¨ë¦¬ ì“¸ ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.

### 6.2. async chunk ë¡œë”© ìµœì í™”

Vite ë¬¸ì„œì˜ ì˜ˆì‹œ: ([ko.vite.dev][6])

* A / B ë‘ ê°œì˜ async chunkê°€ ìˆê³ ,
* ë‘˜ ë‹¤ ê³µí†µìœ¼ë¡œ C ë¼ëŠ” ëª¨ë“ˆì„ direct import í•˜ëŠ” ê²½ìš°:

ë‚˜ìœ ê²½ìš°:

```txt
Entry â†’ A â†’ (íŒŒì‹±í•´ ë³´ë‹ˆ) C í•„ìš” â†’ C ë¡œë”©
```

ViteëŠ” dynamic import ì½”ë“œë¥¼ ì¬ì‘ì„±í•´ì„œ:

```txt
Entry â†’ (A ì™€ C ë¥¼ ë³‘ë ¬ë¡œ í”„ë¦¬ë¡œë“œ)
```

ê°€ ë˜ë„ë¡ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤.

ì¦‰,

> dynamic importê°€ ë§Œë“¤ì–´ë‚´ëŠ” async chunk + í•´ë‹¹ async chunkê°€ ì‚¬ìš©í•˜ëŠ” ê³µí†µ chunkë“¤ì„
> **í•œ ë²ˆì— ë³‘ë ¬ë¡œ í”„ë¦¬ë¡œë“œ**í•´ì„œ ë„¤íŠ¸ì›Œí¬ ì™•ë³µì„ ì¤„ì—¬ì¤ë‹ˆë‹¤.

ì´ ìµœì í™”ëŠ” â€œì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ì„ í–ˆë”ë‹ˆ ë„¤íŠ¸ì›Œí¬ ì™•ë³µì´ ëŠ˜ì–´ë‚˜ì„œ ëŠë ¤ì§€ëŠ” ê²½ìš°â€ë¥¼ ë§‰ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤. ğŸ‘

---

## 7. Vite ì „ìš© ê°•ë ¥ ê¸°ëŠ¥: `import.meta.glob` + ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… ğŸŒŒ

Viteì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” **ë¯¸ì¹œ ê¿€ ê¸°ëŠ¥** í•˜ë‚˜ê°€ `import.meta.glob`ì…ë‹ˆë‹¤. ([vitejs][7])

```js
// routes.ts
const modules = import.meta.glob('./pages/**/*.jsx')

console.log(modules)
/*
{
  "./pages/Home.jsx": () => import("./pages/Home.jsx"),
  "./pages/About.jsx": () => import("./pages/About.jsx"),
  "./pages/Admin/index.jsx": () => import("./pages/Admin/index.jsx"),
  ...
}
*/
```

* Viteê°€ ì´ ì½”ë“œë¥¼ ë¹Œë“œ ì‹œì—:

  * `pages` ë””ë ‰í„°ë¦¬ í•˜ìœ„ íŒŒì¼ë“¤ì„ ìŠ¤ìº”í•´ì„œ
  * **ë™ì  import í•¨ìˆ˜ ë§µ**ìœ¼ë¡œ ë°”ê¿”ì¤ë‹ˆë‹¤.
* ê° ê°’ `() => import('./...')` ê°€ **ìŠ¤í”Œë¦¿ í¬ì¸íŠ¸**ê°€ ë©ë‹ˆë‹¤.

ì´ë¥¼ í™œìš©í•˜ë©´:

```jsx
// ë§¤ìš° ê°„ë‹¨í•œ íŒŒì¼ ê¸°ë°˜ ë¼ìš°íŒ… í‰ë‚´
export async function loadPage(path) {
  const modules = import.meta.glob('./pages/**/*.jsx')

  const importPage = modules[`./pages/${path}.jsx`]
  if (!importPage) throw new Error('í˜ì´ì§€ ì—†ìŒ')

  const module = await importPage()
  return module.default
}
```

â†’ íŒŒì¼ êµ¬ì¡°ì— ë”°ë¼ **ìë™ìœ¼ë¡œ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ëœ ë¼ìš°íŠ¸**ë¥¼ ë§Œë“œëŠ” íŒ¨í„´ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.

K-ë””ì§€í„¸ íŠ¸ë ˆì´ë‹ ê°™ì€ êµìœ¡ì—ì„œ â€œVite íŠ¹í™” ê¸°ëŠ¥ + ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…â€ì„ ë³´ì—¬ì£¼ê¸°ì— ì•„ì£¼ ì¢‹ì€ ì˜ˆì œì…ë‹ˆë‹¤. ğŸ˜„

---

## 8. ê³ ê¸‰: `vite:preloadError` ì´ë²¤íŠ¸ì™€ ì½”ë“œ ìŠ¤í”Œë¦¿ ì²­í¬ ì—ëŸ¬ ì²˜ë¦¬ ğŸ§±

ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ì„ í•˜ë©´ ê°€ë” ì´ëŸ° ì¼ì´ ìƒê¹ë‹ˆë‹¤:

1. ìœ ì €ê°€ ì˜¤ë˜ ì¼œë‘” íƒ­ì—ì„œ ìƒˆë¡œê³ ì¹¨ ì—†ì´ ê³„ì† ì‚¬ìš© ì¤‘
2. ì„œë²„ì— ìƒˆ ë²„ì „ì„ ë°°í¬ â†’ **ì´ì „ ë¹Œë“œì˜ ì²­í¬ íŒŒì¼ ì‚­ì œ**
3. ìœ ì €ê°€ lazy ë¡œë“œë˜ëŠ” í™”ë©´ì— ì§„ì… â†’ ë¸Œë¼ìš°ì €ê°€ **ì˜ˆì „ chunk URL** ì„ ìš”ì²­
4. 404 â†’ dynamic import ì—ëŸ¬

ViteëŠ” ì´ëŸ° ìƒí™©ì„ ìœ„í•´ **íŠ¹ë³„í•œ ì´ë²¤íŠ¸**ë¥¼ ë‚ ë¦½ë‹ˆë‹¤: `vite:preloadError` ([vitejs][8])

```js
// ì˜ˆ: main.jsx
window.addEventListener('vite:preloadError', event => {
  // event.payload ì— ì›ë˜ì˜ import ì—ëŸ¬ ì •ë³´ê°€ ë“¤ì–´ìˆìŒ
  // preventDefault()ë¥¼ í˜¸ì¶œí•˜ë©´ ì—ëŸ¬ throwë¥¼ ë§‰ì„ ìˆ˜ ìˆìŒ
  event.preventDefault()

  // ê°€ì¥ ë‹¨ìˆœí•œ ëŒ€ì²˜: ê·¸ëƒ¥ ì „ì²´ ìƒˆë¡œê³ ì¹¨
  window.location.reload()
})
```

ì´ íŒ¨í„´ì˜ í¬ì¸íŠ¸:

* **ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… + ìƒˆ ë°°í¬ í™˜ê²½**ì—ì„œì˜ ì²­í¬ 404ë¥¼
  â€œê·¸ëƒ¥ ì „ì²´ ìƒˆë¡œê³ ì¹¨â€ ìœ¼ë¡œ ë¹ ë¥´ê²Œ ë³µêµ¬ ê°€ëŠ¥
* íŠ¹íˆ SPAì—ì„œ â€œê°‘ìê¸° í™”ë©´ì´ ì•ˆ ëœ¬ë‹¤â€ ë¥˜ì˜ ë²„ê·¸ë¥¼ ì¤„ì´ëŠ” ë° ìœ ìš©í•©ë‹ˆë‹¤.

---

## 9. ì‹¤ì œ íŠœë‹ ì‹œë‚˜ë¦¬ì˜¤ ì˜ˆì‹œ ğŸ› ï¸

ì‹¤ë¬´/ê°•ì˜ìš© ì‹œë‚˜ë¦¬ì˜¤ë¡œ ì •ë¦¬í•´ë³´ë©´:

1. **1ë‹¨ê³„ â€“ ê¸°ë³¸ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…**

   * React Router ë¼ìš°íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ `React.lazy` + dynamic importë¡œ ë³€ê²½
   * Viteê°€ ì•Œì•„ì„œ ë¼ìš°íŠ¸ ë‹¨ìœ„ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… ìˆ˜í–‰ ([Velog][3])

2. **2ë‹¨ê³„ â€“ ë¹Œë“œ ê²°ê³¼ ë¶„ì„**

   * `vite build` í›„ logë¥¼ í™•ì¸

     * â€œSome chunks are larger than 500kBâ€¦â€ ê²½ê³ ê°€ ëœ¨ë©´

       * ì–´ë–¤ ì²­í¬ê°€ ë¹„ëŒ€í•´ì¡ŒëŠ”ì§€ íŒŒì•…
   * `vite-bundle-visualizer` ê°™ì€ ë„êµ¬ë¡œ CHUNK êµ¬ì„± ì‹œê°í™” ([ê³µë¶€í•˜ì][9])

3. **3ë‹¨ê³„ â€“ manualChunks / splitVendorChunkPlugin ì ìš©**

   * React / ReactDOM / React Router / ìƒíƒœê´€ë¦¬ / ì°¨íŠ¸ / ì• ë‹ˆë©”ì´ì…˜ ë“±
     **ë¼ì´ë¸ŒëŸ¬ë¦¬ ê·¸ë£¹ë³„ë¡œ vendor ì²­í¬ ë¶„ë¦¬**
   * ì˜ˆ:

     * `vendor`: React ê³„ì—´
     * `animations`: framer-motion
     * `charts`: chart.js, recharts
     * `queries`: @tanstack/react-query ë“± ([ê³µë¶€í•˜ì][9])

4. **4ë‹¨ê³„ â€“ CSS ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… ì „ëµ**

   * ê¸°ë³¸(`cssCodeSplit: true`) ìƒíƒœì—ì„œ ë¨¼ì € í™•ì¸
   * ì •ë§ â€œCSS í•œ íŒŒì¼â€ì´ í•„ìš”í•˜ë©´ `cssCodeSplit: false` ë¡œ ì „í™˜ ([ko.vite.dev][5])

5. **5ë‹¨ê³„ â€“ UX ê°œì„ **

   * ìì£¼ ì“°ëŠ” ë¼ìš°íŠ¸/ê¸°ëŠ¥ â†’ modulepreloadì— ì˜í•´ ìë™ ìµœì í™”
   * íŠ¹ì • ë¬´ê±°ìš´ í˜ì´ì§€/ëª¨ë‹¬ â†’ ë§ˆìš°ìŠ¤ hover ì‹œ `import()`ë¡œ ë¯¸ë¦¬ í”„ë¦¬íŒ¨ì¹˜
   * dynamic import ì—ëŸ¬ â†’ `vite:preloadError` ì´ë²¤íŠ¸ë¡œ graceful ë³µêµ¬ ([vitejs][8])

---

## 10. í•œ ì¤„ ì •ë¦¬ âœï¸

**â€œVite ê´€ì ì˜ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…â€** ì„ í•œ ì¤„ë¡œ ì •ë¦¬í•˜ë©´:

> ViteëŠ” devì—ì„œëŠ” íŒŒì¼ ë‹¨ìœ„ ES Modules,
> buildì—ì„œëŠ” Rollupì„ í†µí•´ dynamic import/`import.meta.glob`/**manualChunks**ë¥¼ ê¸°ì¤€ìœ¼ë¡œ
> JSÂ·CSSë¥¼ ìë™ìœ¼ë¡œ ìª¼ê°œê³ , modulepreloadÂ·async chunk ìµœì í™”Â·`vite:preloadError`ê¹Œì§€ ì—®ì–´ì„œ
> **ì‹¤ì œë¡œ ì˜ ë™ì‘í•˜ëŠ” ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… íŒŒì´í”„ë¼ì¸**ì„ ì œê³µí•˜ëŠ” ë¹Œë“œ ë„êµ¬ì´ë‹¤. âš¡

---

[1]: https://v3.vitejs.dev/guide/build?utm_source=chatgpt.com "Building for Production"
[2]: https://github.com/vitejs/vite/discussions/17730?utm_source=chatgpt.com "How to optimize large projects with dynamic imports and ..."
[3]: https://velog.io/%40kangactor123/Vite-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EB%B2%88%EB%93%A4%EB%A7%81-%EC%B5%9C%EC%A0%81%ED%99%94?utm_source=chatgpt.com "Vite í”„ë¡œì íŠ¸ ë²ˆë“¤ë§ ìµœì í™”"
[4]: https://arkhyeon.tistory.com/36?utm_source=chatgpt.com "React ë¹Œë“œ ìš©ëŸ‰ ìµœì í™” - Vite rollupOptions manualChunks"
[5]: https://ko.vite.dev/config/build-options?utm_source=chatgpt.com "ë¹Œë“œ ì˜µì…˜"
[6]: https://ko.vite.dev/guide/features?utm_source=chatgpt.com "ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ë“¤"
[7]: https://vite.dev/guide/features?utm_source=chatgpt.com "Features"
[8]: https://vite.dev/llms-full.txt?utm_source=chatgpt.com "llms-full.txt"
[9]: https://5ffthewall.tistory.com/129?utm_source=chatgpt.com "Code Splittingê³¼ Lazy Loading ì ìš©ê¸° / ë²ˆë“¤ ìµœì í™”í•˜ê¸°"
